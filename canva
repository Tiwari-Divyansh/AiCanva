<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RuralHealth - Telehealth Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@n8n/chat/dist/style.css" rel="stylesheet" />
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
        }
        
        .loading-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        .fade-in {
            animation: fadeIn 0.8s ease-in-out;
        }
        
        .slide-up {
            animation: slideUp 0.6s ease-out;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Loading Screen -->
    <div id="loadingScreen" class="fixed inset-0 gradient-bg flex items-center justify-center z-50">
        <div class="text-center text-white">
            <div class="loading-pulse mb-6">
                <i class="fas fa-heartbeat text-6xl"></i>
            </div>
            <h1 class="text-3xl font-bold mb-2">RuralHealth</h1>
            <p class="text-lg opacity-90">Connecting Rural Communities to Healthcare</p>
            <div class="mt-8">
                <div class="w-64 h-2 bg-white bg-opacity-30 rounded-full mx-auto">
                    <div id="loadingBar" class="h-2 bg-white rounded-full transition-all duration-1000 ease-out" style="width: 0%"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Application -->
    <div id="mainApp" class="hidden">
        <!-- Navigation -->
        <nav id="navbar" class="bg-white shadow-lg sticky top-0 z-40">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center h-16">
                    <div class="flex items-center">
                        <i class="fas fa-heartbeat text-2xl text-blue-600 mr-2"></i>
                        <span class="text-xl font-bold text-gray-800">RuralHealth</span>
                    </div>
                    <div class="flex items-center space-x-4">
                        <button id="languageBtn" class="hidden px-3 py-2 text-sm bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors">
                            <i class="fas fa-globe mr-1"></i>
                            <span id="currentLang">English</span>
                        </button>
                        <button id="logoutBtn" class="hidden px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors">
                            <i class="fas fa-sign-out-alt mr-1"></i>
                            Logout
                        </button>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Role Selection Screen -->
        <div id="roleSelection" class="min-h-screen gradient-bg flex items-center justify-center p-4">
            <div class="max-w-4xl mx-auto text-center fade-in">
                <div class="mb-12">
                    <h1 class="text-5xl font-bold text-white mb-4">Welcome to RuralHealth</h1>
                    <p class="text-xl text-white opacity-90">Choose your role to get started</p>
                </div>
                
                <div class="grid md:grid-cols-2 gap-8 max-w-2xl mx-auto">
                    <!-- Patient Card -->
                    <div class="bg-white rounded-2xl p-8 card-hover cursor-pointer" onclick="showAuth('patient')">
                        <div class="text-center">
                            <div class="w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6">
                                <i class="fas fa-user text-3xl text-blue-600"></i>
                            </div>
                            <h3 class="text-2xl font-bold text-gray-800 mb-4">I'm a Patient</h3>
                            <p class="text-gray-600 mb-6">Book appointments, consult with doctors, and manage your health</p>
                            <div class="space-y-2 text-sm text-gray-500">
                                <div class="flex items-center justify-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    AI-powered symptom checker
                                </div>
                                <div class="flex items-center justify-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    Video consultations
                                </div>
                                <div class="flex items-center justify-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    Secure health records
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Doctor Card -->
                    <div class="bg-white rounded-2xl p-8 card-hover cursor-pointer" onclick="showAuth('doctor')">
                        <div class="text-center">
                            <div class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6">
                                <i class="fas fa-user-md text-3xl text-green-600"></i>
                            </div>
                            <h3 class="text-2xl font-bold text-gray-800 mb-4">I'm a Doctor</h3>
                            <p class="text-gray-600 mb-6">Provide consultations, manage appointments, and help patients</p>
                            <div class="space-y-2 text-sm text-gray-500">
                                <div class="flex items-center justify-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    Manage appointments
                                </div>
                                <div class="flex items-center justify-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    AI patient summaries
                                </div>
                                <div class="flex items-center justify-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    Income tracking
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Authentication Forms -->
        <div id="authSection" class="hidden min-h-screen bg-gray-50 py-12">
            <div class="max-w-md mx-auto bg-white rounded-2xl shadow-xl p-8 slide-up">
                <div class="text-center mb-8">
                    <i id="authIcon" class="fas fa-user text-4xl text-blue-600 mb-4"></i>
                    <h2 id="authTitle" class="text-3xl font-bold text-gray-800">Patient Login</h2>
                    <p class="text-gray-600 mt-2">Access your healthcare dashboard</p>
                </div>

                <!-- Login/Signup Toggle -->
                <div class="flex bg-gray-100 rounded-lg p-1 mb-6">
                    <button id="loginTab" class="flex-1 py-2 px-4 rounded-md bg-white shadow-sm text-blue-600 font-medium transition-all">
                        Login
                    </button>
                    <button id="signupTab" class="flex-1 py-2 px-4 rounded-md text-gray-600 font-medium transition-all">
                        Sign Up
                    </button>
                </div>

                <!-- Patient Forms -->
                <div id="patientForms">
                    <!-- Patient Login Form -->
                    <form id="patientLoginForm" class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                            <input type="email" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                            <input type="password" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        </div>
                        <button type="submit" class="w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium">
                            Login as Patient
                        </button>
                    </form>

                    <!-- Patient Signup Form -->
                    <form id="patientSignupForm" class="space-y-4 hidden">
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">First Name</label>
                                <input type="text" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Last Name</label>
                                <input type="text" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                            <input type="email" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
                            <input type="tel" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Date of Birth</label>
                            <input type="date" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                            <input type="password" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        </div>
                        <button type="submit" class="w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium">
                            Sign Up as Patient
                        </button>
                    </form>
                </div>

                <!-- Doctor Forms -->
                <div id="doctorForms" class="hidden">
                    <!-- Doctor Login Form -->
                    <form id="doctorLoginForm" class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                            <input type="email" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                            <input type="password" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                        </div>
                        <button type="submit" class="w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition-colors font-medium">
                            Login as Doctor
                        </button>
                    </form>

                    <!-- Doctor Signup Form -->
                    <form id="doctorSignupForm" class="space-y-4 hidden">
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">First Name</label>
                                <input type="text" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Last Name</label>
                                <input type="text" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                            <input type="email" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
                            <input type="tel" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Medical License Number</label>
                            <input type="text" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Qualification</label>
                            <input type="text" required placeholder="e.g., MBBS, MD" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Specialization</label>
                            <select required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                                <option value="">Select Specialization</option>
                                <option value="general">General Medicine</option>
                                <option value="cardiology">Cardiology</option>
                                <option value="dermatology">Dermatology</option>
                                <option value="pediatrics">Pediatrics</option>
                                <option value="orthopedics">Orthopedics</option>
                                <option value="gynecology">Gynecology</option>
                                <option value="psychiatry">Psychiatry</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Consultation Fee (₹)</label>
                            <input type="number" required min="100" max="5000" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Years of Experience</label>
                            <input type="number" required min="0" max="50" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                            <input type="password" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Upload Medical Certificate</label>
                            <input type="file" accept=".pdf,.jpg,.jpeg,.png" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                            <p class="text-xs text-gray-500 mt-1">Upload your medical license or certificate (PDF, JPG, PNG)</p>
                        </div>
                        <button type="submit" class="w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition-colors font-medium">
                            Sign Up as Doctor
                        </button>
                    </form>
                </div>

                <div class="mt-6 text-center">
                    <button onclick="showRoleSelection()" class="text-blue-600 hover:text-blue-700 text-sm font-medium">
                        ← Back to Role Selection
                    </button>
                </div>
            </div>
        </div>

        <!-- Language Selection Modal -->
        <div id="languageModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
            <div class="bg-white rounded-2xl p-8 max-w-md mx-4">
                <h3 class="text-2xl font-bold text-gray-800 mb-6 text-center">Select Your Language</h3>
                <div class="grid grid-cols-2 gap-4">
                    <button onclick="selectLanguage('en')" class="p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all">
                        <div class="text-2xl mb-2">🇺🇸</div>
                        <div class="font-medium">English</div>
                    </button>
                    <button onclick="selectLanguage('hi')" class="p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all">
                        <div class="text-2xl mb-2">🇮🇳</div>
                        <div class="font-medium">हिंदी</div>
                    </button>
                    <button onclick="selectLanguage('bn')" class="p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all">
                        <div class="text-2xl mb-2">🇧🇩</div>
                        <div class="font-medium">বাংলা</div>
                    </button>
                    <button onclick="selectLanguage('te')" class="p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all">
                        <div class="text-2xl mb-2">🏴</div>
                        <div class="font-medium">తెలుగు</div>
                    </button>
                </div>
            </div>
        </div>

        <!-- Patient Dashboard -->
        <div id="patientDashboard" class="hidden">
            <!-- Patient Homepage -->
            <div id="patientHome" class="min-h-screen bg-gray-50">
                <!-- Hero Section -->
                <section class="gradient-bg text-white py-20">
                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div class="text-center">
                            <h1 class="text-5xl font-bold mb-6">Your Health, Our Priority</h1>
                            <p class="text-xl mb-8 opacity-90">Access quality healthcare from the comfort of your home</p>
                            <button onclick="showSymptomChecker()" class="bg-white text-blue-600 px-8 py-4 rounded-lg text-lg font-semibold hover:bg-gray-100 transition-colors">
                                Start Symptom Check
                            </button>
                        </div>
                    </div>
                </section>

                <!-- Features Section -->
                <section class="py-20">
                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <h2 class="text-4xl font-bold text-center text-gray-800 mb-16">Our Services</h2>
                        <div class="grid md:grid-cols-3 gap-8">
                            <div class="bg-white rounded-2xl p-8 shadow-lg card-hover">
                                <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-6">
                                    <i class="fas fa-stethoscope text-2xl text-blue-600"></i>
                                </div>
                                <h3 class="text-xl font-bold text-gray-800 mb-4">AI Symptom Checker</h3>
                                <p class="text-gray-600">Get instant preliminary diagnosis with our AI-powered symptom analysis</p>
                            </div>
                            <div class="bg-white rounded-2xl p-8 shadow-lg card-hover">
                                <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-6">
                                    <i class="fas fa-video text-2xl text-green-600"></i>
                                </div>
                                <h3 class="text-xl font-bold text-gray-800 mb-4">Video Consultations</h3>
                                <p class="text-gray-600">Connect with qualified doctors through secure video calls</p>
                            </div>
                            <div class="bg-white rounded-2xl p-8 shadow-lg card-hover">
                                <div class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mb-6">
                                    <i class="fas fa-calendar-alt text-2xl text-purple-600"></i>
                                </div>
                                <h3 class="text-xl font-bold text-gray-800 mb-4">Easy Booking</h3>
                                <p class="text-gray-600">Book appointments with specialists at your convenience</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Testimonials Section -->
                <section class="py-20 bg-white">
                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <h2 class="text-4xl font-bold text-center text-gray-800 mb-16">What Our Patients Say</h2>
                        <div class="grid md:grid-cols-3 gap-8">
                            <div class="text-center">
                                <div class="w-20 h-20 bg-gray-300 rounded-full mx-auto mb-4 flex items-center justify-center">
                                    <i class="fas fa-user text-2xl text-gray-600"></i>
                                </div>
                                <h4 class="font-bold text-gray-800 mb-2">Priya Sharma</h4>
                                <p class="text-gray-600 italic">"RuralHealth made it so easy to consult with a doctor from my village. The AI symptom checker was very helpful!"</p>
                                <div class="flex justify-center mt-4">
                                    <div class="flex text-yellow-400">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="text-center">
                                <div class="w-20 h-20 bg-gray-300 rounded-full mx-auto mb-4 flex items-center justify-center">
                                    <i class="fas fa-user text-2xl text-gray-600"></i>
                                </div>
                                <h4 class="font-bold text-gray-800 mb-2">Rajesh Kumar</h4>
                                <p class="text-gray-600 italic">"Excellent service! I got my diabetes consultation done without traveling to the city. Very convenient and affordable."</p>
                                <div class="flex justify-center mt-4">
                                    <div class="flex text-yellow-400">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="text-center">
                                <div class="w-20 h-20 bg-gray-300 rounded-full mx-auto mb-4 flex items-center justify-center">
                                    <i class="fas fa-user text-2xl text-gray-600"></i>
                                </div>
                                <h4 class="font-bold text-gray-800 mb-2">Meera Patel</h4>
                                <p class="text-gray-600 italic">"The doctors are very professional and the platform is easy to use. Highly recommend for rural communities!"</p>
                                <div class="flex justify-center mt-4">
                                    <div class="flex text-yellow-400">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Gallery Section -->
                <section class="py-20">
                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <h2 class="text-4xl font-bold text-center text-gray-800 mb-16">Our Platform</h2>
                        <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                            <div class="bg-blue-100 rounded-2xl p-8 text-center">
                                <i class="fas fa-mobile-alt text-4xl text-blue-600 mb-4"></i>
                                <h4 class="font-bold text-gray-800">Mobile Friendly</h4>
                            </div>
                            <div class="bg-green-100 rounded-2xl p-8 text-center">
                                <i class="fas fa-shield-alt text-4xl text-green-600 mb-4"></i>
                                <h4 class="font-bold text-gray-800">Secure & Private</h4>
                            </div>
                            <div class="bg-purple-100 rounded-2xl p-8 text-center">
                                <i class="fas fa-clock text-4xl text-purple-600 mb-4"></i>
                                <h4 class="font-bold text-gray-800">24/7 Available</h4>
                            </div>
                            <div class="bg-orange-100 rounded-2xl p-8 text-center">
                                <i class="fas fa-rupee-sign text-4xl text-orange-600 mb-4"></i>
                                <h4 class="font-bold text-gray-800">Affordable</h4>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Footer -->
                <footer class="bg-gray-800 text-white py-12">
                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div class="grid md:grid-cols-4 gap-8">
                            <div>
                                <div class="flex items-center mb-4">
                                    <i class="fas fa-heartbeat text-2xl text-blue-400 mr-2"></i>
                                    <span class="text-xl font-bold">RuralHealth</span>
                                </div>
                                <p class="text-gray-400">Connecting rural communities to quality healthcare through technology.</p>
                            </div>
                            <div>
                                <h4 class="font-bold mb-4">Quick Links</h4>
                                <ul class="space-y-2 text-gray-400">
                                    <li><a href="#" class="hover:text-white">About Us</a></li>
                                    <li><a href="#" class="hover:text-white">Services</a></li>
                                    <li><a href="#" class="hover:text-white">Doctors</a></li>
                                    <li><a href="#" class="hover:text-white">Contact</a></li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="font-bold mb-4">Support</h4>
                                <ul class="space-y-2 text-gray-400">
                                    <li><a href="#" class="hover:text-white">Help Center</a></li>
                                    <li><a href="#" class="hover:text-white">Privacy Policy</a></li>
                                    <li><a href="#" class="hover:text-white">Terms of Service</a></li>
                                    <li><a href="#" class="hover:text-white">FAQ</a></li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="font-bold mb-4">Contact Info</h4>
                                <div class="space-y-2 text-gray-400">
                                    <div class="flex items-center">
                                        <i class="fas fa-phone mr-2"></i>
                                        <span>+91 1800-123-4567</span>
                                    </div>
                                    <div class="flex items-center">
                                        <i class="fas fa-envelope mr-2"></i>
                                        <span>support@ruralhealth.com</span>
                                    </div>
                                    <div class="flex items-center">
                                        <i class="fas fa-map-marker-alt mr-2"></i>
                                        <span>India</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400">
                            <p>&copy; 2024 RuralHealth. All rights reserved.</p>
                        </div>
                    </div>
                </footer>
            </div>

            <!-- Symptom Checker -->
            <div id="symptomChecker" class="hidden min-h-screen bg-gray-50 py-12">
                <div class="max-w-2xl mx-auto bg-white rounded-2xl shadow-xl p-8">
                    <div class="text-center mb-8">
                        <i class="fas fa-stethoscope text-4xl text-blue-600 mb-4"></i>
                        <h2 class="text-3xl font-bold text-gray-800">Symptom Checker</h2>
                        <p class="text-gray-600 mt-2">Tell us about your symptoms and get AI-powered preliminary analysis</p>
                    </div>

                    <form id="symptomForm" class="space-y-6">
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                                <input type="text" name="name" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Age</label>
                                <input type="number" name="age" required min="1" max="120" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Contact Number</label>
                            <input type="tel" name="contact" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Describe Your Symptoms</label>
                            <textarea name="symptoms" required rows="4" placeholder="Please describe your symptoms in detail..." class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"></textarea>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Known Allergies</label>
                            <textarea name="allergies" rows="2" placeholder="List any known allergies (optional)" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"></textarea>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Past Medical Problems</label>
                            <textarea name="medical_history" rows="3" placeholder="Any past medical conditions or surgeries (optional)" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"></textarea>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-3">Pain Level (1-10)</label>
                            <div class="flex items-center space-x-4">
                                <span class="text-sm text-gray-500">No Pain</span>
                                <input type="range" name="pain_rating" min="1" max="10" value="5" class="flex-1" oninput="updatePainValue(this.value)">
                                <span class="text-sm text-gray-500">Severe</span>
                                <span id="painValue" class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium">5</span>
                            </div>
                        </div>

                        <div class="flex space-x-4">
                            <button type="button" onclick="showPatientHome()" class="flex-1 bg-gray-500 text-white py-3 rounded-lg hover:bg-gray-600 transition-colors font-medium">
                                Back
                            </button>
                            <button type="submit" class="flex-1 bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium">
                                Analyze Symptoms
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Appointment Booking -->
            <div id="appointmentBooking" class="hidden min-h-screen bg-gray-50 py-12">
                <div class="max-w-6xl mx-auto px-4">
                    <div class="text-center mb-12">
                        <h2 class="text-4xl font-bold text-gray-800 mb-4">Book Your Appointment</h2>
                        <p class="text-gray-600">Choose from our qualified doctors and book your consultation</p>
                    </div>

                    <!-- Doctor Selection -->
                    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
                        <div class="bg-white rounded-2xl p-6 shadow-lg card-hover cursor-pointer doctor-card" onclick="selectDoctor(1)">
                            <div class="text-center mb-4">
                                <div class="w-20 h-20 bg-blue-100 rounded-full mx-auto mb-4 flex items-center justify-center">
                                    <i class="fas fa-user-md text-2xl text-blue-600"></i>
                                </div>
                                <h3 class="text-xl font-bold text-gray-800">Dr. Amit Sharma</h3>
                                <p class="text-blue-600 font-medium">General Medicine</p>
                                <p class="text-sm text-gray-500">MBBS, MD - 15 years exp.</p>
                            </div>
                            <div class="space-y-2 text-sm">
                                <div class="flex justify-between">
                                    <span>Consultation Fee:</span>
                                    <span class="font-bold text-green-600">₹500</span>
                                </div>
                                <div class="flex justify-between">
                                    <span>Rating:</span>
                                    <div class="flex text-yellow-400">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <span class="text-gray-600 ml-1">(4.9)</span>
                                    </div>
                                </div>
                                <div class="text-green-600 font-medium">Available Today</div>
                            </div>
                        </div>

                        <div class="bg-white rounded-2xl p-6 shadow-lg card-hover cursor-pointer doctor-card" onclick="selectDoctor(2)">
                            <div class="text-center mb-4">
                                <div class="w-20 h-20 bg-green-100 rounded-full mx-auto mb-4 flex items-center justify-center">
                                    <i class="fas fa-user-md text-2xl text-green-600"></i>
                                </div>
                                <h3 class="text-xl font-bold text-gray-800">Dr. Priya Patel</h3>
                                <p class="text-green-600 font-medium">Dermatology</p>
                                <p class="text-sm text-gray-500">MBBS, MD - 12 years exp.</p>
                            </div>
                            <div class="space-y-2 text-sm">
                                <div class="flex justify-between">
                                    <span>Consultation Fee:</span>
                                    <span class="font-bold text-green-600">₹700</span>
                                </div>
                                <div class="flex justify-between">
                                    <span>Rating:</span>
                                    <div class="flex text-yellow-400">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <span class="text-gray-600 ml-1">(4.8)</span>
                                    </div>
                                </div>
                                <div class="text-green-600 font-medium">Available Today</div>
                            </div>
                        </div>

                        <div class="bg-white rounded-2xl p-6 shadow-lg card-hover cursor-pointer doctor-card" onclick="selectDoctor(3)">
                            <div class="text-center mb-4">
                                <div class="w-20 h-20 bg-purple-100 rounded-full mx-auto mb-4 flex items-center justify-center">
                                    <i class="fas fa-user-md text-2xl text-purple-600"></i>
                                </div>
                                <h3 class="text-xl font-bold text-gray-800">Dr. Rajesh Kumar</h3>
                                <p class="text-purple-600 font-medium">Cardiology</p>
                                <p class="text-sm text-gray-500">MBBS, DM - 20 years exp.</p>
                            </div>
                            <div class="space-y-2 text-sm">
                                <div class="flex justify-between">
                                    <span>Consultation Fee:</span>
                                    <span class="font-bold text-green-600">₹1000</span>
                                </div>
                                <div class="flex justify-between">
                                    <span>Rating:</span>
                                    <div class="flex text-yellow-400">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <span class="text-gray-600 ml-1">(4.9)</span>
                                    </div>
                                </div>
                                <div class="text-green-600 font-medium">Available Tomorrow</div>
                            </div>
                        </div>
                    </div>

                    <!-- Booking Form -->
                    <div id="bookingForm" class="hidden bg-white rounded-2xl p-8 shadow-xl">
                        <h3 class="text-2xl font-bold text-gray-800 mb-6">Complete Your Booking</h3>
                        
                        <div class="grid md:grid-cols-2 gap-8">
                            <div>
                                <h4 class="text-lg font-bold text-gray-800 mb-4">Select Date & Time</h4>
                                <div class="space-y-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Preferred Date</label>
                                        <input type="date" id="appointmentDate" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Available Time Slots</label>
                                        <div class="grid grid-cols-3 gap-2" id="timeSlots">
                                            <button type="button" class="time-slot p-2 border border-gray-300 rounded-lg hover:bg-blue-50 hover:border-blue-500 transition-colors" onclick="selectTimeSlot(this, '09:00')">09:00 AM</button>
                                            <button type="button" class="time-slot p-2 border border-gray-300 rounded-lg hover:bg-blue-50 hover:border-blue-500 transition-colors" onclick="selectTimeSlot(this, '10:00')">10:00 AM</button>
                                            <button type="button" class="time-slot p-2 border border-gray-300 rounded-lg hover:bg-blue-50 hover:border-blue-500 transition-colors" onclick="selectTimeSlot(this, '11:00')">11:00 AM</button>
                                            <button type="button" class="time-slot p-2 border border-gray-300 rounded-lg hover:bg-blue-50 hover:border-blue-500 transition-colors" onclick="selectTimeSlot(this, '14:00')">02:00 PM</button>
                                            <button type="button" class="time-slot p-2 border border-gray-300 rounded-lg hover:bg-blue-50 hover:border-blue-500 transition-colors" onclick="selectTimeSlot(this, '15:00')">03:00 PM</button>
                                            <button type="button" class="time-slot p-2 border border-gray-300 rounded-lg hover:bg-blue-50 hover:border-blue-500 transition-colors" onclick="selectTimeSlot(this, '16:00')">04:00 PM</button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div>
                                <h4 class="text-lg font-bold text-gray-800 mb-4">Payment Summary</h4>
                                <div class="bg-gray-50 rounded-lg p-6 space-y-3">
                                    <div class="flex justify-between">
                                        <span>Doctor:</span>
                                        <span id="selectedDoctorName" class="font-medium">-</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>Consultation Fee:</span>
                                        <span id="consultationFee" class="font-medium">₹0</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>Platform Fee:</span>
                                        <span class="font-medium">₹50</span>
                                    </div>
                                    <hr class="border-gray-300">
                                    <div class="flex justify-between text-lg font-bold">
                                        <span>Total Amount:</span>
                                        <span id="totalAmount" class="text-green-600">₹50</span>
                                    </div>
                                </div>

                                <div class="mt-6">
                                    <h5 class="font-medium text-gray-800 mb-3">Payment QR Code</h5>
                                    <div class="bg-white border-2 border-dashed border-gray-300 rounded-lg p-8 text-center">
                                        <div class="w-32 h-32 bg-gray-200 mx-auto mb-4 flex items-center justify-center rounded-lg">
                                            <i class="fas fa-qrcode text-4xl text-gray-400"></i>
                                        </div>
                                        <p class="text-sm text-gray-600">Scan to pay with UPI</p>
                                        <p class="text-xs text-gray-500 mt-1">Payment ID: #PAY123456</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="flex space-x-4 mt-8">
                            <button type="button" onclick="showAppointmentBooking()" class="flex-1 bg-gray-500 text-white py-3 rounded-lg hover:bg-gray-600 transition-colors font-medium">
                                Back to Doctors
                            </button>
                            <button type="button" onclick="confirmBooking()" class="flex-1 bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition-colors font-medium">
                                Confirm Payment & Book
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Doctor Dashboard -->
        <div id="doctorDashboard" class="hidden min-h-screen bg-gray-50">
            <div class="max-w-7xl mx-auto px-4 py-8">
                <div class="mb-8">
                    <h1 class="text-3xl font-bold text-gray-800">Doctor Dashboard</h1>
                    <p class="text-gray-600">Manage your appointments and consultations</p>
                </div>

                <!-- Stats Cards -->
                <div class="grid md:grid-cols-4 gap-6 mb-8">
                    <div class="bg-white rounded-2xl p-6 shadow-lg">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm text-gray-600">Today's Appointments</p>
                                <p class="text-2xl font-bold text-blue-600">8</p>
                            </div>
                            <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center">
                                <i class="fas fa-calendar-day text-blue-600"></i>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white rounded-2xl p-6 shadow-lg">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm text-gray-600">Completed</p>
                                <p class="text-2xl font-bold text-green-600">5</p>
                            </div>
                            <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center">
                                <i class="fas fa-check-circle text-green-600"></i>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white rounded-2xl p-6 shadow-lg">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm text-gray-600">Pending</p>
                                <p class="text-2xl font-bold text-orange-600">3</p>
                            </div>
                            <div class="w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center">
                                <i class="fas fa-clock text-orange-600"></i>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white rounded-2xl p-6 shadow-lg">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm text-gray-600">Today's Earnings</p>
                                <p class="text-2xl font-bold text-purple-600">₹4,000</p>
                            </div>
                            <div class="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center">
                                <i class="fas fa-rupee-sign text-purple-600"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Appointments List -->
                <div class="bg-white rounded-2xl shadow-lg">
                    <div class="p-6 border-b border-gray-200">
                        <h2 class="text-xl font-bold text-gray-800">Upcoming Appointments</h2>
                    </div>
                    <div class="p-6">
                        <div class="space-y-4">
                            <!-- Appointment Item -->
                            <div class="border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors">
                                <div class="flex items-center justify-between">
                                    <div class="flex-1">
                                        <div class="flex items-center space-x-4">
                                            <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center">
                                                <i class="fas fa-user text-blue-600"></i>
                                            </div>
                                            <div>
                                                <h3 class="font-bold text-gray-800">Priya Sharma</h3>
                                                <p class="text-sm text-gray-600">Age: 28 | Contact: +91 9876543210</p>
                                                <p class="text-sm text-blue-600">10:00 AM - 10:30 AM</p>
                                            </div>
                                        </div>
                                        <div class="mt-3 bg-yellow-50 border border-yellow-200 rounded-lg p-3">
                                            <p class="text-sm font-medium text-yellow-800 mb-1">AI Summary:</p>
                                            <p class="text-sm text-yellow-700">Patient reports fever (3 days), headache, and body aches. No known allergies. Suggests viral infection - recommend rest, fluids, and paracetamol.</p>
                                        </div>
                                    </div>
                                    <div class="flex space-x-2 ml-4">
                                        <button class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors">
                                            <i class="fas fa-video mr-1"></i>
                                            Start Call
                                        </button>
                                        <button onclick="markCompleted(this)" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                                            <i class="fas fa-check mr-1"></i>
                                            Complete
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Another Appointment -->
                            <div class="border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors">
                                <div class="flex items-center justify-between">
                                    <div class="flex-1">
                                        <div class="flex items-center space-x-4">
                                            <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center">
                                                <i class="fas fa-user text-green-600"></i>
                                            </div>
                                            <div>
                                                <h3 class="font-bold text-gray-800">Rajesh Kumar</h3>
                                                <p class="text-sm text-gray-600">Age: 45 | Contact: +91 9876543211</p>
                                                <p class="text-sm text-blue-600">11:00 AM - 11:30 AM</p>
                                            </div>
                                        </div>
                                        <div class="mt-3 bg-red-50 border border-red-200 rounded-lg p-3">
                                            <p class="text-sm font-medium text-red-800 mb-1">AI Summary:</p>
                                            <p class="text-sm text-red-700">Chest pain (intermittent), shortness of breath. History of hypertension. Pain level: 7/10. Requires immediate attention - possible cardiac evaluation needed.</p>
                                        </div>
                                    </div>
                                    <div class="flex space-x-2 ml-4">
                                        <button class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors">
                                            <i class="fas fa-video mr-1"></i>
                                            Start Call
                                        </button>
                                        <button onclick="markCompleted(this)" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                                            <i class="fas fa-check mr-1"></i>
                                            Complete
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Third Appointment -->
                            <div class="border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors">
                                <div class="flex items-center justify-between">
                                    <div class="flex-1">
                                        <div class="flex items-center space-x-4">
                                            <div class="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center">
                                                <i class="fas fa-user text-purple-600"></i>
                                            </div>
                                            <div>
                                                <h3 class="font-bold text-gray-800">Meera Patel</h3>
                                                <p class="text-sm text-gray-600">Age: 32 | Contact: +91 9876543212</p>
                                                <p class="text-sm text-blue-600">02:00 PM - 02:30 PM</p>
                                            </div>
                                        </div>
                                        <div class="mt-3 bg-blue-50 border border-blue-200 rounded-lg p-3">
                                            <p class="text-sm font-medium text-blue-800 mb-1">AI Summary:</p>
                                            <p class="text-sm text-blue-700">Skin rash on arms and legs (1 week), itching. No known allergies. Possible allergic reaction or eczema - recommend antihistamines and topical treatment.</p>
                                        </div>
                                    </div>
                                    <div class="flex space-x-2 ml-4">
                                        <button class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors">
                                            <i class="fas fa-video mr-1"></i>
                                            Start Call
                                        </button>
                                        <button onclick="markCompleted(this)" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                                            <i class="fas fa-check mr-1"></i>
                                            Complete
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="module">
        import { createChat } from 'https://cdn.jsdelivr.net/npm/@n8n/chat/dist/chat.bundle.es.js';
        
        let chatInitialized = false;
        let currentUser = null;
        let selectedDoctor = null;
        let selectedTime = null;

        // Initialize loading sequence
        window.addEventListener('load', function() {
            startLoading();
        });

        function startLoading() {
            const loadingBar = document.getElementById('loadingBar');
            let progress = 0;
            
            const interval = setInterval(() => {
                progress += Math.random() * 15;
                if (progress > 100) progress = 100;
                
                loadingBar.style.width = progress + '%';
                
                if (progress >= 100) {
                    clearInterval(interval);
                    setTimeout(() => {
                        document.getElementById('loadingScreen').classList.add('hidden');
                        document.getElementById('mainApp').classList.remove('hidden');
                        document.getElementById('roleSelection').classList.remove('hidden');
                    }, 500);
                }
            }, 100);
        }

        // Role selection
        window.showAuth = function(role) {
            document.getElementById('roleSelection').classList.add('hidden');
            document.getElementById('authSection').classList.remove('hidden');
            
            const authIcon = document.getElementById('authIcon');
            const authTitle = document.getElementById('authTitle');
            const patientForms = document.getElementById('patientForms');
            const doctorForms = document.getElementById('doctorForms');
            
            if (role === 'patient') {
                authIcon.className = 'fas fa-user text-4xl text-blue-600 mb-4';
                authTitle.textContent = 'Patient Login';
                patientForms.classList.remove('hidden');
                doctorForms.classList.add('hidden');
            } else {
                authIcon.className = 'fas fa-user-md text-4xl text-green-600 mb-4';
                authTitle.textContent = 'Doctor Login';
                patientForms.classList.add('hidden');
                doctorForms.classList.remove('hidden');
            }
        };

        window.showRoleSelection = function() {
            document.getElementById('authSection').classList.add('hidden');
            document.getElementById('roleSelection').classList.remove('hidden');
        };

        // Tab switching
        document.getElementById('loginTab').addEventListener('click', function() {
            this.classList.add('bg-white', 'shadow-sm', 'text-blue-600');
            this.classList.remove('text-gray-600');
            document.getElementById('signupTab').classList.remove('bg-white', 'shadow-sm', 'text-blue-600');
            document.getElementById('signupTab').classList.add('text-gray-600');
            
            document.getElementById('patientLoginForm').classList.remove('hidden');
            document.getElementById('patientSignupForm').classList.add('hidden');
            document.getElementById('doctorLoginForm').classList.remove('hidden');
            document.getElementById('doctorSignupForm').classList.add('hidden');
        });

        document.getElementById('signupTab').addEventListener('click', function() {
            this.classList.add('bg-white', 'shadow-sm', 'text-blue-600');
            this.classList.remove('text-gray-600');
            document.getElementById('loginTab').classList.remove('bg-white', 'shadow-sm', 'text-blue-600');
            document.getElementById('loginTab').classList.add('text-gray-600');
            
            document.getElementById('patientLoginForm').classList.add('hidden');
            document.getElementById('patientSignupForm').classList.remove('hidden');
            document.getElementById('doctorLoginForm').classList.add('hidden');
            document.getElementById('doctorSignupForm').classList.remove('hidden');
        });

        // Form submissions
        document.getElementById('patientLoginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            currentUser = { type: 'patient', name: 'John Doe' };
            showLanguageSelection();
        });

        document.getElementById('patientSignupForm').addEventListener('submit', function(e) {
            e.preventDefault();
            currentUser = { type: 'patient', name: 'John Doe' };
            showLanguageSelection();
        });

        document.getElementById('doctorLoginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            currentUser = { type: 'doctor', name: 'Dr. Smith' };
            showLanguageSelection();
        });

        document.getElementById('doctorSignupForm').addEventListener('submit', function(e) {
            e.preventDefault();
            currentUser = { type: 'doctor', name: 'Dr. Smith' };
            showLanguageSelection();
        });

        // Language selection
        function showLanguageSelection() {
            document.getElementById('languageModal').classList.remove('hidden');
        }

        window.selectLanguage = function(lang) {
            const langNames = {
                'en': 'English',
                'hi': 'हिंदी',
                'bn': 'বাংলা',
                'te': 'తెలుగు'
            };
            
            document.getElementById('currentLang').textContent = langNames[lang];
            document.getElementById('languageModal').classList.add('hidden');
            
            // Show appropriate dashboard
            document.getElementById('authSection').classList.add('hidden');
            document.getElementById('languageBtn').classList.remove('hidden');
            document.getElementById('logoutBtn').classList.remove('hidden');
            
            if (currentUser.type === 'patient') {
                showPatientDashboard();
            } else {
                showDoctorDashboard();
            }
            
            // Initialize chatbot after login
            if (!chatInitialized) {
                initializeChatbot();
                chatInitialized = true;
            }
        };

        function initializeChatbot() {
            createChat({
                webhookUrl: 'https://n8n.nabhahealth.me/webhook/179bb687-013a-4d2d-819d-4a4032c6e77e/chat'
            });
        }

        // Dashboard navigation
        function showPatientDashboard() {
            document.getElementById('patientDashboard').classList.remove('hidden');
            document.getElementById('doctorDashboard').classList.add('hidden');
            showPatientHome();
        }

        function showDoctorDashboard() {
            document.getElementById('doctorDashboard').classList.remove('hidden');
            document.getElementById('patientDashboard').classList.add('hidden');
        }

        window.showPatientHome = function() {
            document.getElementById('patientHome').classList.remove('hidden');
            document.getElementById('symptomChecker').classList.add('hidden');
            document.getElementById('appointmentBooking').classList.add('hidden');
        };

        window.showSymptomChecker = function() {
            document.getElementById('patientHome').classList.add('hidden');
            document.getElementById('symptomChecker').classList.remove('hidden');
            document.getElementById('appointmentBooking').classList.add('hidden');
        };

        window.showAppointmentBooking = function() {
            document.getElementById('patientHome').classList.add('hidden');
            document.getElementById('symptomChecker').classList.add('hidden');
            document.getElementById('appointmentBooking').classList.remove('hidden');
            document.getElementById('bookingForm').classList.add('hidden');
        };

        // Symptom form submission
        document.getElementById('symptomForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const data = Object.fromEntries(formData);
            
            try {
                // Send to n8n webhook
                const response = await fetch('https://n8n.nabhahealth.me/webhook-test/website-form', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                });
                
                if (response.ok) {
                    // Show success message and redirect to appointment booking
                    alert('Symptoms analyzed successfully! Redirecting to book appointment...');
                    showAppointmentBooking();
                } else {
                    alert('Error submitting symptoms. Please try again.');
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Network error. Please check your connection and try again.');
            }
        });

        // Pain rating update
        window.updatePainValue = function(value) {
            document.getElementById('painValue').textContent = value;
        };

        // Doctor selection
        window.selectDoctor = function(doctorId) {
            const doctors = {
                1: { name: 'Dr. Amit Sharma', fee: 500 },
                2: { name: 'Dr. Priya Patel', fee: 700 },
                3: { name: 'Dr. Rajesh Kumar', fee: 1000 }
            };
            
            selectedDoctor = doctors[doctorId];
            
            // Update UI
            document.querySelectorAll('.doctor-card').forEach(card => {
                card.classList.remove('ring-2', 'ring-blue-500');
            });
            event.currentTarget.classList.add('ring-2', 'ring-blue-500');
            
            // Show booking form
            document.getElementById('bookingForm').classList.remove('hidden');
            document.getElementById('selectedDoctorName').textContent = selectedDoctor.name;
            document.getElementById('consultationFee').textContent = '₹' + selectedDoctor.fee;
            document.getElementById('totalAmount').textContent = '₹' + (selectedDoctor.fee + 50);
            
            // Set minimum date to today
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('appointmentDate').min = today;
            document.getElementById('appointmentDate').value = today;
        };

        // Time slot selection
        window.selectTimeSlot = function(button, time) {
            document.querySelectorAll('.time-slot').forEach(slot => {
                slot.classList.remove('bg-blue-500', 'text-white');
                slot.classList.add('border-gray-300');
            });
            
            button.classList.add('bg-blue-500', 'text-white');
            button.classList.remove('border-gray-300');
            selectedTime = time;
        };

        // Confirm booking
        window.confirmBooking = function() {
            if (!selectedDoctor || !selectedTime) {
                alert('Please select a doctor and time slot.');
                return;
            }
            
            const date = document.getElementById('appointmentDate').value;
            if (!date) {
                alert('Please select a date.');
                return;
            }
            
            // Simulate booking confirmation
            alert(`Appointment booked successfully!\n\nDoctor: ${selectedDoctor.name}\nDate: ${date}\nTime: ${selectedTime}\nTotal: ₹${selectedDoctor.fee + 50}\n\nYou will receive a confirmation SMS shortly.`);
            
            // Reset and go back to home
            selectedDoctor = null;
            selectedTime = null;
            showPatientHome();
        };

        // Doctor dashboard functions
        window.markCompleted = function(button) {
            const appointmentCard = button.closest('.border');
            appointmentCard.style.opacity = '0.6';
            button.textContent = 'Completed';
            button.classList.remove('bg-blue-600', 'hover:bg-blue-700');
            button.classList.add('bg-gray-500');
            button.disabled = true;
            
            // Update stats (simplified)
            const completedStat = document.querySelector('.text-green-600').closest('.bg-white').querySelector('.text-2xl');
            const pendingStat = document.querySelector('.text-orange-600').closest('.bg-white').querySelector('.text-2xl');
            
            completedStat.textContent = parseInt(completedStat.textContent) + 1;
            pendingStat.textContent = parseInt(pendingStat.textContent) - 1;
        };

        // Logout functionality
        document.getElementById('logoutBtn').addEventListener('click', function() {
            currentUser = null;
            selectedDoctor = null;
            selectedTime = null;
            chatInitialized = false;
            
            // Hide all dashboards and show role selection
            document.getElementById('patientDashboard').classList.add('hidden');
            document.getElementById('doctorDashboard').classList.add('hidden');
            document.getElementById('languageBtn').classList.add('hidden');
            document.getElementById('logoutBtn').classList.add('hidden');
            document.getElementById('roleSelection').classList.remove('hidden');
        });

        // Language button functionality
        document.getElementById('languageBtn').addEventListener('click', function() {
            showLanguageSelection();
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97e940e0e1d35505',t:'MTc1Nzc4MzM3OC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
